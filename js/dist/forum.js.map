{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@xypp/flarum-websocket-notification/./src/common/Data/ModelPath.ts","webpack://@xypp/flarum-websocket-notification/./src/common/extend.ts","webpack://@xypp/flarum-websocket-notification/./src/common/helper/WebsocketHelper.ts","webpack://@xypp/flarum-websocket-notification/./src/common/model/WebsocketAccessToken.ts","webpack://@xypp/flarum-websocket-notification/./src/common/util/NodeUtil.ts","webpack://@xypp/flarum-websocket-notification/./src/common/util/frontend.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/index.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/components/NotificationFloater.tsx","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/index.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/notification.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/post.ts","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/Component']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/Model']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/extend']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/extenders']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['forum/app']\"","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/regenerator/index.js","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@xypp/flarum-websocket-notification/webpack/bootstrap","webpack://@xypp/flarum-websocket-notification/webpack/runtime/compat get default export","webpack://@xypp/flarum-websocket-notification/webpack/runtime/define property getters","webpack://@xypp/flarum-websocket-notification/webpack/runtime/hasOwnProperty shorthand","webpack://@xypp/flarum-websocket-notification/webpack/runtime/make namespace object","webpack://@xypp/flarum-websocket-notification/./forum.ts"],"sourcesContent":["type ModelPathNode = {\r\n    id?: string;\r\n    name: string;\r\n}\r\nexport class ModelPath {\r\n    nodes: ModelPathNode[];\r\n    data: any;\r\n    constructor(str?: string) {\r\n        if (str) {\r\n            if (str.endsWith(\"}\")) {\r\n                const t = str.split('||');\r\n                this.data = JSON.parse(t[1]);\r\n                str = t[0];\r\n            }\r\n            this.nodes = str.split('.').map(n => {\r\n                const ret: ModelPathNode = { name: n };\r\n                if (n.includes('[')) {\r\n                    const [name, id] = n.split('[');\r\n                    ret.id = id.substring(0, id.length - 1);\r\n                    ret.name = name;\r\n                }\r\n                return ret;\r\n            });\r\n        } else {\r\n            this.nodes = [];\r\n        }\r\n    }\r\n    toString(): string {\r\n        return this.nodes.map(n => n.id ? `${n.name}[${n.id}]` : n.name).join('.');\r\n    }\r\n    add(name: string, id?: string): this {\r\n        this.nodes.push({ name, id });\r\n        return this;\r\n    }\r\n    get(name?: string): ModelPathNode | null {\r\n        if (!name) return this.nodes[this.nodes.length - 1] || null;\r\n        return this.nodes.find(n => n.name === name) || null;\r\n    }\r\n    getId(name?: string): string | null {\r\n        const node = this.get(name);\r\n        return node && (node.id || null);\r\n    }\r\n    getData(): any {\r\n        return this.data;\r\n    }\r\n}","import Extend from 'flarum/common/extenders';\r\nimport WebsocketAccessToken from './model/WebsocketAccessToken';\r\nexport default [\r\n    new Extend.Store()\r\n        .add('websocket-access-token', WebsocketAccessToken)\r\n];","import AdminApplication from \"flarum/admin/AdminApplication\";\r\nimport ItemList from \"flarum/common/utils/ItemList\";\r\nimport ForumApplication from \"flarum/forum/ForumApplication\";\r\nimport { ModelPath } from \"../Data/ModelPath\";\r\nimport WebsocketAccessToken from \"../model/WebsocketAccessToken\";\r\n\r\nexport class WebsocketHelper {\r\n    app?: ForumApplication | AdminApplication;\r\n    ws?: WebSocket\r\n    static instance?: WebsocketHelper;\r\n    public static getInstance(): WebsocketHelper {\r\n        if (!WebsocketHelper.instance) {\r\n            WebsocketHelper.instance = new WebsocketHelper();\r\n        }\r\n        return WebsocketHelper.instance;\r\n    }\r\n    init(app: ForumApplication | AdminApplication) {\r\n        this.app = app;\r\n    }\r\n    async start() {\r\n        if (this.app) {\r\n            const item = await this.app.store.createRecord<WebsocketAccessToken>(\"websocket-access-token\").save({});\r\n            const ws = new WebSocket(item.url());\r\n            this.ws = ws;\r\n            ws.onclose = () => {\r\n                this.closeHandler();\r\n            }\r\n            ws.onopen = () => {\r\n                this.reSubscribe();\r\n            }\r\n            ws.onmessage = (e) => {\r\n                const data = JSON.parse(e.data);\r\n                if (data.type === \"sync\")\r\n                    this.messageHandler(new ModelPath(data.path), data.data);\r\n            }\r\n        }\r\n    }\r\n    messageHandler(path: ModelPath, data: any) {\r\n        \r\n    }\r\n    closeHandler() {\r\n        setTimeout(() => {\r\n            this.start();\r\n        }, 5000);\r\n    }\r\n    getSubscribes(): ItemList<ModelPath> {\r\n        return new ItemList<ModelPath>();\r\n    }\r\n    reSubscribe() {\r\n        this.send({\r\n            type: \"subscribe\",\r\n            path: this.getSubscribes().toArray().map(v => v.toString())\r\n        });\r\n    }\r\n    send(data: { type: string, [key: string]: any }) {\r\n        if (this.ws) {\r\n            this.ws.send(JSON.stringify(data));\r\n        }\r\n    }\r\n}","import Model from 'flarum/common/Model';\n\nexport default class WebsocketAccessToken extends Model {\n  token = Model.attribute<string>('token');\n  url = Model.attribute<string>('url', (url?: any) => url && url.replace(\"0.0.0.0\", location.hostname));\n}","export function showIf(judgement: boolean, vnode: any, def?: any) {\n    return judgement ? vnode : (def || \"\");\n}","import ItemList from \"flarum/common/utils/ItemList\";\r\nimport { ModelPath } from \"../Data/ModelPath\";\r\nimport { extend, override } from \"flarum/common/extend\"\r\nimport { WebsocketHelper } from \"../helper/WebsocketHelper\";\r\nexport function addSubscribeCb(name: string, cb: (items: ItemList<ModelPath>) => void) {\r\n    extend(WebsocketHelper.prototype, \"getSubscribes\", cb);\r\n}\r\nexport function addMessageCb(name: string, cb: (path: ModelPath, data: any) => void) {\r\n    override(WebsocketHelper.prototype, \"messageHandler\", function (orig: (path: ModelPath, data: any) => void, path: ModelPath, data: any) {\r\n        if (path.get()?.name == name) {\r\n            cb(path, data);\r\n        }\r\n        orig(path, data);\r\n    });\r\n}\r\n","import app from 'flarum/forum/app';\nimport WebsocketAccessToken from '../common/model/WebsocketAccessToken';\nimport { WebsocketHelper } from '../common/helper/WebsocketHelper';\nimport init from './integration';\n\napp.initializers.add('xypp/flarum-websocket-notification', () => {\n  WebsocketHelper.getInstance().init(app);\n  init();\n  setTimeout(() => {\n    WebsocketHelper.getInstance().start();\n  }, 1000);\n});\n\n","import Component from \"flarum/common/Component\";\r\nimport app from \"flarum/forum/app\";\r\nimport { showIf } from \"../../../common/util/NodeUtil\";\r\n\r\nexport default class NotificationFloater extends Component<{\r\n    notifications: { time: number, first: boolean, notification: any }[]\r\n}> {\r\n    view(vnode: any) {\r\n        return <div className={showIf(this.attrs.notifications.length > 0, \"notification-floater\",\"notification-floater hidden\")}>\r\n            {this.attrs.notifications.map(n => {\r\n                const type = n.notification.data.attributes.contentType;\r\n                const cls = app.notificationComponents[type];\r\n                return <div className={showIf(n.first, \"notification-floater-item in\", \"notification-floater-item\")}>\r\n                    {showIf(!!cls, m(cls, { notification: n.notification }), <div>{type}</div>)}\r\n                </div>\r\n            })}\r\n        </div>\r\n    }\r\n}","import app from \"flarum/forum/app\";\r\nimport { initNotification } from \"./notification\";\r\nimport { initPost } from \"./post\";\r\n\r\nexport default function init() {\r\n    initNotification();\r\n    initPost();\r\n}","import app from \"flarum/forum/app\";\r\nimport { addMessageCb, addSubscribeCb } from \"../../common/util/frontend\";\r\nimport { ModelPath } from \"../../common/Data/ModelPath\";\r\nimport NotificationFloater from \"./components/NotificationFloater\";\r\n\r\nexport function initNotification() {\r\n    let notifications: { time: number, first: boolean, notification: any }[] = [];\r\n    addSubscribeCb('websocket', (items) => {\r\n        if (app.session.user)\r\n            items.add(\"notification\", new ModelPath().add(\"notification\", app.session.user.id()));\r\n    });\r\n    addMessageCb('notification', (path, data) => {\r\n        console.log(data);\r\n        const model = app.store.pushPayload(data);\r\n        const obj = { time: 8, first: false, notification: model };\r\n        notifications.push(obj);\r\n        if (app.session.user)\r\n            app.session.user.pushAttributes({\r\n                unreadNotificationCount: app.session.user.unreadNotificationCount() ?? 0 + 1,\r\n                newNotificationCount: app.session.user.newNotificationCount() ?? 0 + 1,\r\n            });\r\n        m.redraw();\r\n        setTimeout(() => {\r\n            obj.first = true;\r\n            m.redraw();\r\n        }, 200);\r\n    });\r\n\r\n\r\n    const ctr = $(\"<div></div>\").addClass(\"notification-floater-container\")\r\n    ctr.appendTo(document.body);\r\n    m.mount(ctr[0], { view: function () { return NotificationFloater.component({ notifications }) } });\r\n\r\n    setInterval(() => {\r\n        notifications.forEach(element => {\r\n            element.time--;\r\n        });\r\n        let changed = false;\r\n        for (let i = notifications.length - 1; i >= 0; i--) {\r\n            if (notifications[i].time <= 0) {\r\n                notifications.splice(i, 1);\r\n                changed = true;\r\n            }\r\n        }\r\n        if (changed)\r\n            m.redraw();\r\n    }, 1000);\r\n}","import ItemList from \"flarum/common/utils/ItemList\";\r\nimport { addMessageCb, addSubscribeCb } from \"../../common/util/frontend\";\r\nimport { ModelPath } from \"../../common/Data/ModelPath\";\r\nimport app from \"flarum/forum/app\";\r\nimport Post from \"flarum/common/models/Post\";\r\nimport Discussion from \"flarum/common/models/Discussion\";\r\nimport PostStreamState from \"flarum/forum/states/PostStreamState\"\r\nexport function initPost() {\r\n    addSubscribeCb(\"post\", (items: ItemList<ModelPath>) => {\r\n        if (((app.current.data as any) ?? {}).routeName === \"discussion\") {\r\n            items.add(\"discussion\", new ModelPath().add(\"discussion\", (app.current.data as any).discussion.id()).add(\"post\"));\r\n        }\r\n    })\r\n    addMessageCb(\"post\", (path: ModelPath, data: any) => {\r\n        if (((app.current.data as any) ?? {}).routeName !== \"discussion\") return;\r\n        const discussion: Discussion = (app.current.data as any).discussion;\r\n        const stream:PostStreamState = app.current.get(\"stream\");\r\n        if (discussion.id() == path.getId(\"discussion\") && stream.viewingEnd()) {\r\n            const model = app.store.pushPayload<Post>(data);\r\n            (discussion.data as any).relationships.posts.data.push({ type: 'posts', id: '71' });\r\n            stream.loadNext();\r\n        }\r\n    })\r\n}","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/extenders'];","module.exports = flarum.core.compat['common/utils/ItemList'];","module.exports = flarum.core.compat['forum/app'];","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export { default as extend } from './src/common/extend';\nexport * from './src/forum';\n"],"names":["ModelPath","str","nodes","data","endsWith","t","split","JSON","parse","map","n","ret","name","includes","_n$split","id","substring","length","_proto","prototype","toString","join","add","push","get","find","getId","node","getData","Extend","WebsocketAccessToken","Store","ItemList","WebsocketHelper","app","ws","getInstance","instance","init","start","_start","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this","item","wrap","_callee$","_context","prev","next","store","createRecord","save","sent","WebSocket","url","onclose","closeHandler","onopen","reSubscribe","onmessage","e","type","messageHandler","path","stop","apply","arguments","_this2","setTimeout","getSubscribes","send","toArray","v","stringify","_WebsocketHelper","Model","_Model","_len","args","Array","_key","call","concat","token","attribute","replace","location","hostname","_inheritsLoose","default","showIf","judgement","vnode","def","extend","override","addSubscribeCb","cb","addMessageCb","orig","_path$get","initializers","Component","NotificationFloater","_Component","view","m","className","attrs","notifications","notification","attributes","contentType","cls","notificationComponents","first","initNotification","initPost","items","session","user","_app$session$user$unr","_app$session$user$new","console","log","model","pushPayload","obj","time","pushAttributes","unreadNotificationCount","newNotificationCount","redraw","ctr","$","addClass","appendTo","document","body","mount","component","setInterval","forEach","element","changed","i","splice","_ref","current","routeName","discussion","_ref2","stream","viewingEnd","relationships","posts","loadNext","_typeof","require","module","exports","__esModule","r","Object","hasOwnProperty","o","defineProperty","value","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","_sent","dispatchException","abrupt","TypeError","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","charAt","slice","rval","handle","complete","finish","_catch","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","asyncGeneratorStep","_next","_throw","_setPrototypeOf","bind"],"sourceRoot":""}