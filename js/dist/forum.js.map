{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@xypp/flarum-websocket-notification/./node_modules/dayjs/dayjs.min.js","webpack://@xypp/flarum-websocket-notification/./src/common/Data/ModelPath.ts","webpack://@xypp/flarum-websocket-notification/./src/common/extend.ts","webpack://@xypp/flarum-websocket-notification/./src/common/helper/WebsocketHelper.ts","webpack://@xypp/flarum-websocket-notification/./src/common/index.ts","webpack://@xypp/flarum-websocket-notification/./src/common/model/WebsocketAccessToken.ts","webpack://@xypp/flarum-websocket-notification/./src/common/util/NodeUtil.ts","webpack://@xypp/flarum-websocket-notification/./src/common/util/frontend.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/components/ConnectionIndicator.tsx","webpack://@xypp/flarum-websocket-notification/./src/forum/index.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/components/ComingDiscussion.tsx","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/components/NotificationFloater.tsx","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/components/TypingTip.tsx","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/components/WrappedFlagNotification.tsx","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/discussionList.tsx","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/index.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/like.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/notification.tsx","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/online.tsx","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/poll.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/post.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/reaction.ts","webpack://@xypp/flarum-websocket-notification/./src/forum/integration/typing.tsx","webpack://@xypp/flarum-websocket-notification/./src/forum/utils/unreadTip.ts","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/Component']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/Model']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/components/Button']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/components/FieldSet']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/components/Link']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/components/Select']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/extend']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/extenders']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/models/User']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['forum/app']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['forum/components/ComposerBody']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['forum/components/DiscussionList']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['forum/components/DiscussionPage']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['forum/components/HeaderSecondary']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['forum/components/PostStream']\"","webpack://@xypp/flarum-websocket-notification/external root \"flarum.core.compat['forum/components/SettingsPage']\"","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/regenerator/index.js","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@xypp/flarum-websocket-notification/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@xypp/flarum-websocket-notification/webpack/bootstrap","webpack://@xypp/flarum-websocket-notification/webpack/runtime/compat get default export","webpack://@xypp/flarum-websocket-notification/webpack/runtime/define property getters","webpack://@xypp/flarum-websocket-notification/webpack/runtime/hasOwnProperty shorthand","webpack://@xypp/flarum-websocket-notification/webpack/runtime/make namespace object","webpack://@xypp/flarum-websocket-notification/./forum.ts"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","type ModelPathNode = {\r\n    id?: string;\r\n    name: string;\r\n}\r\nexport class ModelPath {\r\n    nodes: ModelPathNode[];\r\n    data: any;\r\n    constructor(str?: string) {\r\n        if (str) {\r\n            if (str.endsWith(\"}\")) {\r\n                const t = str.split('||');\r\n                this.data = JSON.parse(t[1]);\r\n                str = t[0];\r\n            }\r\n            this.nodes = str.split('.').map(n => {\r\n                const ret: ModelPathNode = { name: n };\r\n                if (n.includes('[')) {\r\n                    const [name, id] = n.split('[');\r\n                    ret.id = id.substring(0, id.length - 1);\r\n                    ret.name = name;\r\n                }\r\n                return ret;\r\n            });\r\n        } else {\r\n            this.nodes = [];\r\n        }\r\n    }\r\n    toString(): string {\r\n        return this.nodes.map(n => n.id ? `${n.name}[${n.id}]` : n.name).join('.') + (this.data ? `||${JSON.stringify(this.data)}` : \"\");\r\n    }\r\n    add(name: string, id?: string): this {\r\n        this.nodes.push({ name, id });\r\n        return this;\r\n    }\r\n    get(name?: string): ModelPathNode | null {\r\n        if (!name) return this.nodes[this.nodes.length - 1] || null;\r\n        return this.nodes.find(n => n.name === name) || null;\r\n    }\r\n    getId(name?: string): string | null {\r\n        const node = this.get(name);\r\n        return node && (node.id || null);\r\n    }\r\n    remove(name: string): this {\r\n        const index = this.nodes.findIndex(n => n.name === name);\r\n        if (index >= 0) {\r\n            this.nodes.splice(index, 1);\r\n        }\r\n        return this;\r\n    }\r\n    getData(): any {\r\n        return this.data;\r\n    }\r\n    setData(data: any): this {\r\n        this.data = data;\r\n        return this;\r\n    }\r\n\r\n}","import Extend from 'flarum/common/extenders';\r\nimport WebsocketAccessToken from './model/WebsocketAccessToken';\r\nexport default [\r\n    new Extend.Store()\r\n        .add('websocket-access-token', WebsocketAccessToken)\r\n];","import AdminApplication from \"flarum/admin/AdminApplication\";\r\nimport ItemList from \"flarum/common/utils/ItemList\";\r\nimport ForumApplication from \"flarum/forum/ForumApplication\";\r\nimport { ModelPath } from \"../Data/ModelPath\";\r\nimport WebsocketAccessToken from \"../model/WebsocketAccessToken\";\r\nimport dayjs from \"dayjs\";\r\nexport type STATUS = \"online\" | \"offline\" | \"connecting\" | \"partial\";\r\n\r\nconst RETRY_INTERVALS = [100, 2000, 5000, 10000, 60000, 120000];\r\n\r\nexport class WebsocketHelper {\r\n    app?: ForumApplication | AdminApplication;\r\n    ws?: WebSocket\r\n    statusChangeCb?: (status: STATUS) => void;\r\n    lastConnected: number = 0;\r\n    firstSubscribe: boolean = true;\r\n    context: Record<string, any> = {};\r\n    lastSubscribes: string[] = [];\r\n    pingInterval?: any;\r\n    nextRetry = 0;\r\n    inRetryStatus = false;\r\n    static instance?: WebsocketHelper;\r\n    public static getInstance(): WebsocketHelper {\r\n        if (!WebsocketHelper.instance) {\r\n            WebsocketHelper.instance = new WebsocketHelper();\r\n        }\r\n        return WebsocketHelper.instance;\r\n    }\r\n    init(app: ForumApplication | AdminApplication) {\r\n        this.app = app;\r\n        this.lastConnected = dayjs().unix() - 5;\r\n    }\r\n    async start() {\r\n        if (this.app) {\r\n            if (this.ws) {\r\n                try {\r\n                    this.ws.onclose = () => { }\r\n                    this.ws.close();\r\n                } finally {\r\n                    this.ws = undefined;\r\n                };\r\n            }\r\n            if (this.statusChangeCb) this.statusChangeCb(\"connecting\");\r\n            let item: WebsocketAccessToken | null = null;\r\n            try {\r\n                item = await this.app.store.createRecord<WebsocketAccessToken>(\"websocket-access-token\").save({});\r\n            } catch (e) {\r\n                this.retry();\r\n            }\r\n            if (!item) {\r\n                this.retry();\r\n                return;\r\n            }\r\n            const ws = new WebSocket(item.url());\r\n            this.ws = ws;\r\n            ws.onclose = () => {\r\n                this.retry();\r\n                if (this.pingInterval)\r\n                    clearInterval(this.pingInterval);\r\n            }\r\n            ws.onerror = () => {\r\n                this.retry();\r\n                if (this.pingInterval)\r\n                    clearInterval(this.pingInterval);\r\n            }\r\n            ws.onopen = () => {\r\n                this.firstSubscribe = true;\r\n                this.lastSubscribes = [];\r\n                this.reSubscribe();\r\n                this.pingInterval = setInterval(this.ping.bind(this), 30000);\r\n                if (this.statusChangeCb) this.statusChangeCb(\"online\");\r\n                this.nextRetry = 0;\r\n                this.lastConnected = dayjs().unix();\r\n            }\r\n            ws.onmessage = (e) => {\r\n                this.lastConnected = dayjs().unix();\r\n                const data = JSON.parse(e.data);\r\n                if (data.type === \"sync\")\r\n                    this.messageHandler(new ModelPath(data.path), data.data);\r\n            }\r\n        }\r\n    }\r\n    messageHandler(path: ModelPath, data: any) {\r\n        // To be implemented in extends\r\n        console.log(`No handler found ${path.toString()}: ${JSON.stringify(data)}`);\r\n    }\r\n    getSubscribes(context: Record<string, any>): ItemList<ModelPath> {\r\n        return new ItemList<ModelPath>();\r\n    }\r\n    setContext(context: Record<string, any>) {\r\n        Object.keys(context).forEach(v => {\r\n            if (context[v] === null && this.context[v]) delete this.context[v];\r\n            else this.context[v] = context[v];\r\n        });\r\n        return this;\r\n    }\r\n    reSubscribe(tempContext?: Record<string, any>) {\r\n        const newSub = this.getSubscribes(Object.assign(tempContext || {}, this.context)).toArray().map(v => v.toString());\r\n        console.log(`ReSubscribe: ${newSub.join(\", \")}`);\r\n        if (!this.changed(newSub)) return;\r\n        this.lastSubscribes = newSub;\r\n        let data: any = {\r\n            type: \"subscribe\",\r\n            path: newSub\r\n        };\r\n        if (this.firstSubscribe) {\r\n            this.firstSubscribe = false;\r\n            data.restore = dayjs().unix() - this.lastConnected;\r\n        }\r\n        this.send(data);\r\n        return this;\r\n    }\r\n    state(path: ModelPath) {\r\n        if (!this.app?.session.user) return;\r\n        this.send({\r\n            type: \"state\",\r\n            path: path.toString()\r\n        })\r\n    }\r\n    send(data: { type: string, [key: string]: any }) {\r\n        if (this.ws) {\r\n            this.ws.send(JSON.stringify(data));\r\n        }\r\n    }\r\n    onStatusChange(cb: (status: STATUS) => void) {\r\n        this.statusChangeCb = cb;\r\n    }\r\n    retry() {\r\n        if (this.inRetryStatus) return;\r\n        this.inRetryStatus = true;\r\n        if (this.statusChangeCb) this.statusChangeCb(\"offline\");\r\n        setTimeout(() => {\r\n            this.inRetryStatus = false;\r\n            this.start();\r\n        }, RETRY_INTERVALS[this.nextRetry - 1]);\r\n        if (this.nextRetry < RETRY_INTERVALS.length) {\r\n            this.nextRetry += 1;\r\n        }\r\n    }\r\n    protected ping() {\r\n        this.send({\r\n            type: \"ping\"\r\n        });\r\n    }\r\n    protected changed(newSub: string[]): boolean {\r\n        newSub.sort((a, b) => a.localeCompare(b));\r\n        if (newSub.length !== this.lastSubscribes.length) return true;\r\n        for (let i = 0; i < newSub.length; i++) {\r\n            if (newSub[i] !== this.lastSubscribes[i]) return true;\r\n        }\r\n        return false;\r\n    }\r\n}","import { WebsocketHelper } from \"./helper/WebsocketHelper\";\r\n\r\nexport { WebsocketHelper };","import Model from 'flarum/common/Model';\n\nexport default class WebsocketAccessToken extends Model {\n  token = Model.attribute<string>('token');\n  url = Model.attribute<string>('url', (url?: any) => url && url.replace(\"0.0.0.0\", location.hostname));\n}","export function showIf(judgement: boolean, vnode: any, def?: any) {\n    return judgement ? vnode : (def || \"\");\n}","import ItemList from \"flarum/common/utils/ItemList\";\r\nimport { ModelPath } from \"../Data/ModelPath\";\r\nimport { extend, override } from \"flarum/common/extend\"\r\nimport { WebsocketHelper } from \"../helper/WebsocketHelper\";\r\nexport function addSubscribeCb(name: string, cb: (items: ItemList<ModelPath>, context: Record<string, any>) => void) {\r\n    extend(WebsocketHelper.prototype, \"getSubscribes\", cb);\r\n}\r\nexport function addMessageCb(name: string, cb: (path: ModelPath, data: any) => void) {\r\n    override(WebsocketHelper.prototype, \"messageHandler\", function (orig: (path: ModelPath, data: any) => void, path: ModelPath, data: any) {\r\n        if (path.get()?.name == name) {\r\n            return cb(path, data);\r\n        }\r\n        orig(path, data);\r\n    });\r\n}\r\n","import Component from \"flarum/common/Component\";\r\nimport app from \"flarum/forum/app\";\r\nimport Button from \"flarum/common/components/Button\"\r\nimport { WebsocketHelper } from \"../../common\";\r\nimport { STATUS } from \"../../common/helper/WebsocketHelper\";\r\n\r\nexport default class ConnectionIndicator extends Component {\r\n    currentStatus: STATUS = \"offline\";\r\n    oninit(vnode: any): void {\r\n        super.oninit(vnode);\r\n        WebsocketHelper.getInstance().onStatusChange(this.status.bind(this))\r\n    }\r\n    view(vnode: any) {\r\n        return this.getContent();\r\n    }\r\n    getContent() {\r\n        switch (this.currentStatus) {\r\n            case \"online\":\r\n                return <span className=\"connectionIndicator-icon online\">\r\n                    <i className=\"far fa-circle\"></i>\r\n                    {app.translator.trans(\"xypp-websocket-notification.forum.connection.connected\")}\r\n                </span>;\r\n            case \"offline\":\r\n                return <span className=\"connectionIndicator-icon offline\">\r\n                    <i className=\"fas fa-times\"></i>\r\n                    {app.translator.trans(\"xypp-websocket-notification.forum.connection.disconnected\")}\r\n                </span>;\r\n            case \"connecting\":\r\n                return <span className=\"connectionIndicator-icon connecting\">\r\n                    <i className=\"fas fa-wifi\"></i>\r\n                    {app.translator.trans(\"xypp-websocket-notification.forum.connection.connecting\")}\r\n                </span>;\r\n            case \"partial\":\r\n                return <span className=\"connectionIndicator-icon partial\">\r\n                    <i className=\"fas fa-circle\"></i>\r\n                    {app.translator.trans(\"xypp-websocket-notification.forum.connection.partial\")}\r\n                </span>;\r\n        }\r\n    }\r\n    status(status: STATUS) {\r\n        this.currentStatus = status;\r\n        m.redraw();\r\n    }\r\n}","import app from 'flarum/forum/app';\nimport WebsocketAccessToken from '../common/model/WebsocketAccessToken';\nimport { WebsocketHelper } from '../common/helper/WebsocketHelper';\nimport init from './integration';\nimport PageState from 'flarum/common/states/PageState';\nimport { extend } from 'flarum/common/extend';\nimport ConnectionIndicator from './components/ConnectionIndicator';\nimport HeaderSecondary from 'flarum/forum/components/HeaderSecondary';\nimport { initUnreadTip } from './utils/unreadTip';\n\napp.initializers.add('xypp/flarum-websocket-notification', () => {\n  WebsocketHelper.getInstance().init(app);\n  init();\n  setTimeout(() => {\n    WebsocketHelper.getInstance().start();\n  }, 1000);\n  extend(HeaderSecondary.prototype, 'items', function (items) {\n    items.add('wsn', ConnectionIndicator.component(), 1000);\n  });\n  initUnreadTip();\n});","import Component from \"flarum/common/Component\";\r\nimport Discussion from \"flarum/common/models/Discussion\";\r\nimport app from \"flarum/forum/app\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport Link from \"flarum/common/components/Link\"\r\nimport { showIf } from \"../../../common/util/NodeUtil\";\r\nexport default class ComingDiscussion extends Component<{\r\n    list: {\r\n        title: string,\r\n        id: string,\r\n        count: number,\r\n        post: number\r\n    }[],\r\n    cb: () => void\r\n}> {\r\n    autoRefreshTimeout: any = null;\r\n    autoRefresh: boolean = false;\r\n    countdown: number = 30;\r\n    oncreate(vnode: any): void {\r\n        super.oncreate(vnode);\r\n        this.autoRefresh = app.session?.user?.preferences()?.xyppWsnNewDiscussionAutoRefresh || false;\r\n        if (this.autoRefresh) {\r\n            this.autoRefreshTimeout = setInterval(() => {\r\n                this.updateCtd();\r\n            }, 1000);\r\n        }\r\n    }\r\n    onbeforeremove(vnode: any): void {\r\n        super.onbeforeremove(vnode);\r\n        if (this.autoRefreshTimeout) {\r\n            clearInterval(this.autoRefreshTimeout);\r\n        }\r\n    }\r\n    view(vnode: any) {\r\n        return <div className=\"ComingDiscussion\">\r\n            <div className=\"ComingDiscussion-icon\">\r\n                <i className=\"fas fa-star-of-life\"></i>\r\n                <div className=\"ComingDiscussion-icon-text\">\r\n                    {app.translator.trans('xypp-websocket-notification.forum.new_discussion.tip')}\r\n                </div>\r\n            </div>\r\n            <div className=\"ComingDiscussion-item-container\">\r\n                {\r\n                    this.attrs.list.map(item => {\r\n                        return <div class=\"ComingDiscussion-item\">\r\n                            <span className=\"ComingDiscussion-count\">{item.count}</span>\r\n                            <Link className=\"ComingDiscussion-link\" href={app.route(\"discussion.near\", {\r\n                                id: item.id,\r\n                                near: item.post\r\n                            })}>{item.title}</Link>\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n            <div className=\"ComingDiscussion-Reload\">\r\n                <Button class=\"Button\" onclick={this.callback.bind(this)}><i className=\"fas fa-sync\"></i></Button>\r\n                {showIf(this.autoRefresh, <div className=\"autoReloadIndicator\">{this.countdown}</div>)}\r\n            </div>\r\n        </div>\r\n    }\r\n    callback() {\r\n        if (this.autoRefreshTimeout) {\r\n            clearInterval(this.autoRefreshTimeout);\r\n            this.autoRefreshTimeout = null;\r\n            this.autoRefresh = false;\r\n        }\r\n        this.attrs.cb();\r\n    }\r\n    updateCtd() {\r\n        if (this.countdown > 0) {\r\n            this.countdown--;\r\n            if (this.countdown == 0) {\r\n                this.callback();\r\n            }\r\n            m.redraw();\r\n        }\r\n    }\r\n}","import Component from \"flarum/common/Component\";\r\nimport app from \"flarum/forum/app\";\r\nimport { showIf } from \"../../../common/util/NodeUtil\";\r\nimport Button from \"flarum/common/components/Button\"\r\n\r\nexport default class NotificationFloater extends Component<{\r\n    notifications: { time: number, first: boolean, notification: any }[],\r\n    dismiss: () => void\r\n}> {\r\n    view(vnode: any) {\r\n        const position = (app.session?.user?.preferences() || {})[\"xyppWsnFloaterPosition\"] || \"center\";\r\n        return <div className={showIf(this.attrs.notifications.length > 0, \"notification-floater\", \"notification-floater hidden\") + \" \" + position}>\r\n            {this.attrs.notifications.map(n => {\r\n                const type = n.notification.data.attributes.contentType;\r\n                const cls = app.notificationComponents[type];\r\n                return <div className={showIf(n.first, \"notification-floater-item in\", \"notification-floater-item\")}>\r\n                    {showIf(!!cls, m(cls, { notification: n.notification }), <div>{type}</div>)}\r\n                </div>\r\n            })}\r\n            <div className=\"notification-floater-close-container\">\r\n                <Button className=\"Button Button-primary\" onclick={this.attrs.dismiss}>\r\n                    <i className=\"fas fa-times\"></i>\r\n                    {app.translator.trans(\"xypp-websocket-notification.forum.close_notification_floater\")}\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import Component from \"flarum/common/Component\";\r\nimport app from \"flarum/forum/app\";\r\nimport { showIf } from \"../../../common/util/NodeUtil\";\r\nimport Button from \"flarum/common/components/Button\"\r\nimport User from \"flarum/common/models/User\";\r\nimport avatar from \"flarum/common/helpers/avatar\"\r\nimport username from \"flarum/common/helpers/username\"\r\nimport Link from \"flarum/common/components/Link\";\r\nexport default class TypingTip extends Component<{\r\n    typingUsers: User[]\r\n}> {\r\n    view(vnode: any) {\r\n        let MAX_LIST_LEN = parseInt(app.forum.attribute(\"xyppWsnTypeTipCountLimit\") || \"4\");\r\n        if (!this.attrs.typingUsers.length) {\r\n            return <div>{app.translator.trans(\"xypp-websocket-notification.forum.typing.no_one\")}</div>\r\n        }\r\n        return <div className=\"PostStream-item\">\r\n            <div className=\"LineContainer\">\r\n                <div className=\"users\">\r\n                    {this.attrs.typingUsers.slice(0, MAX_LIST_LEN).map(u => <Link className=\"typingUser\" href={app.route.user(u)}>\r\n                        {avatar(u)}\r\n                        <span className=\"username\">{username(u)}</span>\r\n                    </Link>)}\r\n                </div>\r\n                {showIf(this.attrs.typingUsers.length > MAX_LIST_LEN, <div>\r\n                    {app.translator.trans(\"xypp-websocket-notification.forum.typing.and_more\", { rest: this.attrs.typingUsers.length - MAX_LIST_LEN })}\r\n                </div>)}\r\n                <div>{app.translator.trans(\"xypp-websocket-notification.forum.typing.is_typing\")}</div>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import Component from \"flarum/common/Component\";\r\nimport Link from \"flarum/common/components/Link\";\r\nimport app from \"flarum/forum/app\";\r\nimport avatar from \"flarum/common/helpers/avatar\";\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport username from \"flarum/common/helpers/username\";\r\nimport humanTime from \"flarum/common/helpers/humanTime\";\r\nexport default class WrappedFlagNotification extends Component<{\r\n    notification: any\r\n}> {\r\n    view() {\r\n        const flag = this.attrs.notification.data.attributes.flag;\r\n        const post = flag.post();\r\n        return <Link\r\n            href={app.route.post(post)}\r\n            className=\"Notification Flag\"\r\n            onclick={(e: any) => {\r\n                (app.flags as any).index = post;\r\n                e.redraw = false;\r\n            }}\r\n        >\r\n            {avatar(post.user())}\r\n            {icon('fas fa-flag', { className: 'Notification-icon' })}\r\n            <span className=\"Notification-content\">\r\n                {app.translator.trans('flarum-flags.forum.flagged_posts.item_text', {\r\n                    username: username(post.user()),\r\n                    em: <em />,\r\n                    discussion: post.discussion().title(),\r\n                })}\r\n            </span>\r\n            {humanTime(flag.createdAt())}\r\n            <div className=\"Notification-excerpt\">{post.contentPlain()}</div>\r\n        </Link>\r\n    }\r\n}","import ItemList from \"flarum/common/utils/ItemList\";\r\nimport { addMessageCb, addSubscribeCb } from \"../../common/util/frontend\";\r\nimport { ModelPath } from \"../../common/Data/ModelPath\";\r\nimport app from \"flarum/forum/app\";\r\nimport DiscussionPage from \"flarum/forum/components/DiscussionPage\"\r\nimport { extend } from \"flarum/common/extend\";\r\nimport { WebsocketHelper } from \"../../common/helper/WebsocketHelper\";\r\nimport DiscussionList from \"flarum/forum/components/DiscussionList\"\r\nimport ComingDiscussion from \"./components/ComingDiscussion\";\r\nimport Discussion from \"flarum/common/models/Discussion\";\r\nimport FieldSet from \"flarum/common/components/FieldSet\";\r\nimport SettingsPage from \"flarum/forum/components/SettingsPage\";\r\nimport Switch from \"flarum/common/components/Switch\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport { addUnread } from \"../utils/unreadTip\";\r\nexport function initDiscussionList() {\r\n    addSubscribeCb(\"discussion\", (items: ItemList<ModelPath>, context: Record<string, any>) => {\r\n        if (context.discussionList) {\r\n            if (context.discussionListTag) {\r\n                const tag = app.store.getBy<any>(\"tags\", \"slug\", context.discussionListTag);\r\n                if (tag) {\r\n                    items.add(\"discussionList\", new ModelPath().add(\"tag\", tag.id()).add(\"discussion\"));\r\n                }\r\n            } else {\r\n                items.add(\"discussionList\", new ModelPath().add(\"discussion\"));\r\n            }\r\n        }\r\n    })\r\n    let comingDiscussions: {\r\n        title: string;\r\n        post: number;\r\n        id: string;\r\n        count: number;\r\n    }[] = [];\r\n    let toPullUpDiscussions: Discussion[] = [];\r\n    function refresh() {\r\n        toPullUpDiscussions.forEach(app.discussions.addDiscussion.bind(app.discussions));\r\n\r\n        comingDiscussions = [];\r\n        toPullUpDiscussions = [];\r\n        m.redraw();\r\n    }\r\n    function addOne(id: string, title: string, post: number) {\r\n        if ((app.current?.data as any)?.discussion?.id() == id) return;\r\n        let baseCount = 0;\r\n        let exist = false;\r\n        for (let i = 0; i < comingDiscussions.length; i++) {\r\n            if (comingDiscussions[i].id == id) {\r\n                baseCount = comingDiscussions[i].count;\r\n                comingDiscussions.splice(i, 1);\r\n                exist = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!exist) {\r\n            const routeName: string = (app.current?.data as any)?.routeName || \"\";\r\n            if (routeName !== \"discussion\" && routeName !== \"discussion.near\")\r\n                addUnread();\r\n        }\r\n        comingDiscussions.unshift({\r\n            title: title,\r\n            post: post,\r\n            id: id,\r\n            count: baseCount + 1\r\n        });\r\n        const maxLen = (app.session?.user?.preferences() || {})[\"xyppWsnNewDiscussionListLen\"] || 5;\r\n        if (comingDiscussions.length > maxLen) {\r\n            comingDiscussions.pop();\r\n        }\r\n    }\r\n\r\n    addMessageCb(\"discussion\", (path: ModelPath, data: any) => {\r\n        const discussion: Discussion = app.store.pushPayload<Discussion>(data.discussion);\r\n        const idx = toPullUpDiscussions.findIndex(d => d.id() == discussion.id());\r\n        if (idx != -1) {\r\n            toPullUpDiscussions.splice(idx, 1);\r\n        }\r\n        toPullUpDiscussions.push(discussion);\r\n        addOne(discussion.id() as string, discussion.title(), data.post);\r\n        m.redraw();\r\n    });\r\n\r\n\r\n\r\n    extend(DiscussionList.prototype, \"view\", function (this: DiscussionList, vnode: any) {\r\n        if (comingDiscussions.length && vnode && vnode.children && Array.isArray(vnode.children)) {\r\n            vnode.children.unshift(ComingDiscussion.component({\r\n                list: comingDiscussions,\r\n                cb: (() => {\r\n                    refresh();\r\n                }).bind(this)\r\n            }));\r\n        }\r\n    })\r\n    extend(DiscussionList.prototype, \"oncreate\", function (this: DiscussionList) {\r\n        const tag = (this.attrs as any).state.params.tags;\r\n        WebsocketHelper.getInstance().setContext({\r\n            discussionListTag: tag,\r\n            discussionList: true\r\n        }).reSubscribe();\r\n    });\r\n    extend(DiscussionList.prototype, \"onbeforeremove\", () => {\r\n        WebsocketHelper.getInstance().setContext({\r\n            discussionList: null\r\n        }).reSubscribe();\r\n    });\r\n\r\n\r\n    extend(DiscussionPage.prototype, \"show\", function (this: DiscussionPage, r: any, discussion: Discussion) {\r\n        if (discussion)\r\n            for (let i = comingDiscussions.length - 1; i >= 0; i--) {\r\n                if (comingDiscussions[i].id == discussion.id()) {\r\n                    comingDiscussions.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n    })\r\n\r\n\r\n    let savingList = false;\r\n    extend(SettingsPage.prototype, 'settingsItems', function (items) {\r\n        items.add(\r\n            'xypp-wsn-newPostOption',\r\n            <FieldSet label={app.translator.trans(\"xypp-websocket-notification.forum.new_discussion.title\")} className=\"Settings-newPost\">\r\n                <p><Switch\r\n                    state={((app.session?.user?.preferences() || {})[\"xyppWsnNewDiscussionAutoRefresh\"] || false)}\r\n                    onchange={(v: boolean) => {\r\n                        app.session?.user?.savePreferences({\r\n                            \"xyppWsnNewDiscussionAutoRefresh\": v\r\n                        });\r\n                    }}\r\n                >{app.translator.trans(\"xypp-websocket-notification.forum.new_discussion.auto_refresh\")}</Switch></p>\r\n                <p>{app.translator.trans(\"xypp-websocket-notification.forum.new_discussion.list_length\")}</p>\r\n                <div>\r\n                    <input\r\n                        id=\"input-xyppWsnNewDiscussionListLen\"\r\n                        className=\"FormControl\"\r\n                        type=\"number\"\r\n                        value={((app.session?.user?.preferences() || {})[\"xyppWsnNewDiscussionListLen\"] || 5)}\r\n                    />\r\n                    <Button onclick={((e: any) => {\r\n                        e.preventDefault();\r\n                        savingList = true;\r\n                        m.redraw();\r\n                        app.session?.user?.savePreferences({\r\n                            \"xyppWsnNewDiscussionListLen\": parseInt($(\"#input-xyppWsnNewDiscussionListLen\").val() as string)\r\n                        }).then(() => {\r\n                            savingList = false;\r\n                            m.redraw();\r\n                        });\r\n                    })} disabled={savingList} loading={savingList}>{app.translator.trans(\"xypp-websocket-notification.forum.new_discussion.list_len_button\")}</Button>\r\n                </div>\r\n            </FieldSet>\r\n        );\r\n    })\r\n}","import app from \"flarum/forum/app\";\r\nimport { initNotification } from \"./notification\";\r\nimport { initPost } from \"./post\";\r\nimport { initDiscussionList } from \"./discussionList\";\r\nimport { initLike } from \"./like\";\r\nimport { initTypingTip } from \"./typing\";\r\nimport { initReaction } from \"./reaction\";\r\nimport { initOnline } from \"./online\";\r\nimport { initPoll } from \"./poll\";\r\n\r\nexport default function init() {\r\n    initNotification();\r\n    initPost();\r\n    initDiscussionList();\r\n    initLike();\r\n    initTypingTip();\r\n    initReaction();\r\n    initOnline();\r\n    initPoll();\r\n}","import app from \"flarum/forum/app\";\r\nimport { ModelPath } from \"../../common/Data/ModelPath\";\r\nimport { addMessageCb, addSubscribeCb } from \"../../common/util/frontend\";\r\n\r\nexport function initLike() {\r\n    addSubscribeCb(\"like\", (items, context) => {\r\n        if (context.discussion) {\r\n            items.add(\"like\", new ModelPath().add(\"discussion\", context.discussion).add(\"post\").add(\"like\"));\r\n        }\r\n    });\r\n    addMessageCb(\"like\", (path, data) => {\r\n        const post = app.store.getById(\"posts\", data.post);\r\n        if (!app.store.getById(\"users\", data.user.data.id)) {\r\n            app.store.pushPayload(data.user);\r\n        }\r\n        if (post) {\r\n            const like: { data: { type: string, id: string }[] } = (post.data.relationships as any).likes;\r\n            for (let i = 0; i < like.data.length; i++) {\r\n                if (like.data[i].id == data.user.data.id) {\r\n                    if (!data.like) {\r\n                        like.data.splice(i, 1);\r\n                        post.freshness=new Date();\r\n                        m.redraw();\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n            if (data.like) {\r\n                like.data.push({\r\n                    type: \"users\",\r\n                    id: data.user.data.id\r\n                });\r\n                post.freshness=new Date();\r\n                m.redraw();\r\n            }\r\n        }\r\n    })\r\n}","import app from \"flarum/forum/app\";\r\nimport { addMessageCb, addSubscribeCb } from \"../../common/util/frontend\";\r\nimport { ModelPath } from \"../../common/Data/ModelPath\";\r\nimport NotificationFloater from \"./components/NotificationFloater\";\r\nimport { extend } from \"flarum/common/extend\";\r\nimport SettingsPage from \"flarum/forum/components/SettingsPage\";\r\nimport FieldSet from \"flarum/common/components/FieldSet\"\r\nimport Select from \"flarum/common/components/Select\";\r\nimport WrappedFlagNotification from \"./components/WrappedFlagNotification\";\r\nimport { addUnread } from \"../utils/unreadTip\";\r\nexport function initNotification() {\r\n  let notifications: { time: number, first: boolean, notification: any }[] = [];\r\n  addSubscribeCb('notification', (items) => {\r\n    if (app.session?.user)\r\n      items.add(\"notification\", new ModelPath().add(\"notification\", app.session.user.id()));\r\n    if (app.session?.user?.isAdmin()) {\r\n      items.add(\"flag\", new ModelPath().add(\"flag\"));\r\n    }\r\n  });\r\n  addMessageCb('notification', (path, data) => {\r\n    const model = app.store.pushPayload(data);\r\n    const obj = { time: 8, first: false, notification: model };\r\n    notifications.unshift(obj);\r\n    addUnread();\r\n    if (app.session.user)\r\n      app.session.user.pushAttributes({\r\n        unreadNotificationCount: (app.session.user.unreadNotificationCount() ?? 0) + 1,\r\n        newNotificationCount: (app.session.user.newNotificationCount() ?? 0) + 1,\r\n      });\r\n    m.redraw();\r\n    setTimeout(() => {\r\n      obj.first = true;\r\n      m.redraw();\r\n    }, 100);\r\n  });\r\n  addMessageCb('flag', (path, data) => {\r\n    const model = app.store.pushPayload(data);\r\n    const notification = {\r\n      data: { attributes: { contentType: \"wrappedFlag\", flag: model } }\r\n    }\r\n    const obj = { time: 8, first: false, notification };\r\n    notifications.unshift(obj);\r\n    if (app.flags?.cache && Array.isArray(app.flags.cache)) {\r\n      app.flags.cache.unshift(model);\r\n    }\r\n    (app.forum.data.attributes as any).flagCount++;\r\n    m.redraw();\r\n    setTimeout(() => {\r\n      obj.first = true;\r\n      m.redraw();\r\n    }, 100);\r\n  });\r\n  function dismiss() {\r\n    while (notifications.length) {\r\n      notifications.pop();\r\n    }\r\n  }\r\n\r\n  const ctr = $(\"<div></div>\").addClass(\"notification-floater-container\")\r\n  ctr.appendTo(document.body);\r\n  m.mount(ctr[0], { view: function () { return NotificationFloater.component({ notifications, dismiss }) } });\r\n\r\n  setInterval(() => {\r\n    notifications.forEach(element => {\r\n      element.time--;\r\n    });\r\n    let changed = false;\r\n    for (let i = notifications.length - 1; i >= 0; i--) {\r\n      if (notifications[i].time <= 0) {\r\n        notifications.splice(i, 1);\r\n        changed = true;\r\n      }\r\n    }\r\n    if (changed)\r\n      m.redraw();\r\n  }, 1000);\r\n\r\n  const SELECT_FLOATER = {\r\n    \"left\": app.translator.trans(\"xypp-websocket-notification.forum.notification_floater.left\"),\r\n    \"right\": app.translator.trans(\"xypp-websocket-notification.forum.notification_floater.right\"),\r\n    \"center\": app.translator.trans(\"xypp-websocket-notification.forum.notification_floater.center\")\r\n  }\r\n  extend(SettingsPage.prototype, 'settingsItems', function (items) {\r\n    const position = (app.session?.user?.preferences() || {})[\"xyppWsnFloaterPosition\"] || \"center\";\r\n    items.add(\r\n      'xypp-wsn-floater-position',\r\n      <FieldSet label={app.translator.trans(\"xypp-websocket-notification.forum.notification_floater.title\")} className=\"Settings-floater\">\r\n        <p>{app.translator.trans(\"xypp-websocket-notification.forum.notification_floater.desc\")}</p>\r\n        <Select\r\n          options={SELECT_FLOATER}\r\n          value={position}\r\n          onchange={(value: string) => {\r\n            app.session.user!\r\n              .savePreferences({\r\n                \"xyppWsnFloaterPosition\": value\r\n              });\r\n          }}\r\n        />\r\n      </FieldSet>\r\n    );\r\n  })\r\n\r\n  app.notificationComponents.wrappedFlag = WrappedFlagNotification as any;\r\n}","import ItemList from \"flarum/common/utils/ItemList\";\r\nimport { ModelPath } from \"../../common/Data/ModelPath\";\r\nimport { addMessageCb, addSubscribeCb } from \"../../common/util/frontend\";\r\nimport app from \"flarum/forum/app\";\r\nimport Post from \"flarum/common/models/Post\";\r\nimport User from \"flarum/common/models/User\";\r\nimport { override } from \"flarum/common/extend\";\r\n\r\nexport function initOnline() {\r\n\r\n    addSubscribeCb(\"online\", (items: ItemList<ModelPath>, context: Record<string, any>) => {\r\n        items.add(\"online\", new ModelPath().add(\"state\").add(\"online\"));\r\n    });\r\n\r\n    addMessageCb(\"online\", (path: ModelPath, data: any) => {\r\n        const id = path.getId(\"state\");\r\n        if (id) {\r\n            const model = app.store.getById<User>(\"users\", id);\r\n            if (model) {\r\n                model.pushAttributes({\r\n                    onlineState: data.state\r\n                });\r\n                m.redraw();\r\n            }\r\n        }\r\n    });\r\n\r\n    override(User.prototype, \"isOnline\", function (this: User, fn: () => boolean) {\r\n        const online = this.attribute(\"onlineState\");\r\n        if (online === false || online === true) return online;\r\n        return fn();\r\n    })\r\n}","import ItemList from \"flarum/common/utils/ItemList\";\r\nimport { ModelPath } from \"../../common/Data/ModelPath\";\r\nimport { addMessageCb, addSubscribeCb } from \"../../common/util/frontend\";\r\nimport app from \"flarum/forum/app\";\r\nimport Post from \"flarum/common/models/Post\";\r\n\r\nexport function initPoll() {\r\n    addSubscribeCb(\"poll\", (items: ItemList<ModelPath>, context: Record<string, any>) => {\r\n        if (context.discussion && flarum.extensions['fof-polls']) {\r\n            const discussion = app.store.getById<any>(\"discussions\", context.discussion);\r\n            if (discussion.hasPoll()) {\r\n                discussion.posts().forEach((post: any) => {\r\n                    const poll = post.polls();\r\n                    if (poll && poll.length) {\r\n                        poll.forEach((p: any) => {\r\n                            items.add(\"poll-\" + p.id(), new ModelPath().add(\"poll\", p.id()));\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    addMessageCb(\"poll\", (path: ModelPath, data: any) => {\r\n        let count = 0;\r\n        Object.keys(data).forEach(key => {\r\n            const pollOption = app.store.getById<any>(\"poll_options\", key);\r\n            if (pollOption) {\r\n                pollOption.pushAttributes({\r\n                    voteCount: data[key]\r\n                });\r\n                count += data[key];\r\n            }\r\n        });\r\n        const poll = app.store.getById(\"polls\", path.getId() as string);\r\n        poll?.pushAttributes({ \"voteCount\": count });\r\n        m.redraw();\r\n    })\r\n}","import ItemList from \"flarum/common/utils/ItemList\";\r\nimport { addMessageCb, addSubscribeCb } from \"../../common/util/frontend\";\r\nimport { ModelPath } from \"../../common/Data/ModelPath\";\r\nimport app from \"flarum/forum/app\";\r\nimport Post from \"flarum/common/models/Post\";\r\nimport Discussion from \"flarum/common/models/Discussion\";\r\nimport PostStreamState from \"flarum/forum/states/PostStreamState\"\r\nimport DiscussionPage from \"flarum/forum/components/DiscussionPage\"\r\nimport { extend } from \"flarum/common/extend\";\r\nimport { WebsocketHelper } from \"../../common/helper/WebsocketHelper\";\r\nimport PageState from \"flarum/common/states/PageState\";\r\nimport { addUnread } from \"../utils/unreadTip\";\r\nexport function initPost() {\r\n    addSubscribeCb(\"post\", (items: ItemList<ModelPath>, context: Record<string, any>) => {\r\n        if (context.discussion) {\r\n            items.add(\"discussion\", new ModelPath().add(\"discussion\", context.discussion).add(\"post\"));\r\n        }\r\n    })\r\n    addMessageCb(\"post\", (path: ModelPath, data: any) => {\r\n        const route = ((app.current.data as any) ?? {}).routeName;\r\n        if (route !== \"discussion\" && route !== \"discussion.near\") return;\r\n        const discussion: Discussion = (app.current.data as any).discussion;\r\n        const stream: PostStreamState = app.current.get(\"stream\");\r\n        if (discussion.id() == path.getId(\"discussion\") && stream.viewingEnd()) {\r\n            const model = app.store.pushPayload<Post>(data);\r\n            if (!((discussion.data as any).relationships.posts.data.find((v: any) => v.id == model.id()))) {\r\n                (discussion.data as any).relationships.posts.data.push({ type: 'posts', id: model.id() });\r\n                stream.loadNext();\r\n                addUnread();\r\n            } else {\r\n                m.redraw();\r\n            }\r\n        }\r\n    });\r\n    let removeStack = 0;\r\n    extend(DiscussionPage.prototype, \"show\", function (this: DiscussionPage, r: any, discussion: Discussion) {\r\n        if (discussion) {\r\n            removeStack++;\r\n            WebsocketHelper.getInstance().setContext({\r\n                discussion: discussion!.id()\r\n            }).reSubscribe();\r\n        }\r\n    })\r\n    extend(DiscussionPage.prototype, \"onbeforeremove\", function (this: DiscussionPage) {\r\n        if (this.discussion) {\r\n            removeStack--;\r\n            if (removeStack < 0) removeStack = 0;\r\n            if (removeStack == 0)\r\n                WebsocketHelper.getInstance().setContext({\r\n                    discussion: null\r\n                }).reSubscribe();\r\n        }\r\n    })\r\n}\r\n","import ItemList from \"flarum/common/utils/ItemList\";\r\nimport { ModelPath } from \"../../common/Data/ModelPath\";\r\nimport { addMessageCb, addSubscribeCb } from \"../../common/util/frontend\";\r\nimport app from \"flarum/forum/app\";\r\nimport Post from \"flarum/common/models/Post\";\r\n\r\nexport function initReaction() {\r\n\r\n    addSubscribeCb(\"reaction\", (items: ItemList<ModelPath>, context: Record<string, any>) => {\r\n        if (context.discussion) {\r\n            items.add(\"reaction\", new ModelPath().add(\"discussion\", context.discussion).add(\"post\").add(\"reaction\"));\r\n        }\r\n    });\r\n\r\n    addMessageCb(\"reaction\", (path: ModelPath, data: any) => {\r\n        if (path.getId(\"post\")) {\r\n            const post = app.store.getById<Post>(\"posts\", path.getId(\"post\") as string);\r\n            if (post) {\r\n                post.pushAttributes({ reactionCounts: data.counts });\r\n                post.freshness = new Date();\r\n                m.redraw();\r\n            }\r\n        }\r\n    })\r\n}","import { extend } from \"flarum/common/extend\";\r\nimport ComposerBody from \"flarum/forum/components/ComposerBody\";\r\nimport { WebsocketHelper } from \"../../common\";\r\nimport { ModelPath } from \"../../common/Data/ModelPath\";\r\nimport app from \"flarum/forum/app\";\r\nimport DiscussionPage from \"flarum/forum/components/DiscussionPage\";\r\nimport Discussion from \"flarum/common/models/Discussion\";\r\nimport User from \"flarum/common/models/User\";\r\nimport { addMessageCb, addSubscribeCb } from \"../../common/util/frontend\";\r\nimport ItemList from \"flarum/common/utils/ItemList\";\r\nimport PostStream from \"flarum/forum/components/PostStream\";\r\nimport TypingTip from \"./components/TypingTip\";\r\nimport FieldSet from \"flarum/common/components/FieldSet\";\r\nimport Switch from \"flarum/common/components/Switch\";\r\nimport SettingsPage from \"flarum/forum/components/SettingsPage\";\r\nexport function initTypingTip() {\r\n    addMessageCb(\"typing\", (path: ModelPath, data: any) => {\r\n        const discussion = app.store.getById(\"discussions\", path.getId(\"discussion\") as string);\r\n        if (discussion) {\r\n            const typings = (discussion as any).typingUsers;\r\n            for (let i = 0; i < typings.length; i++) {\r\n                if (typings[i].id() == path.getId(\"state\")) {\r\n                    typings.splice(i, 1);\r\n                    if (!data.state) {\r\n                        m.redraw();\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            if (!data.state) {\r\n                (discussion as any).restTypingUsers--;\r\n                return;\r\n            }\r\n            typings.unshift(app.store.pushPayload<User>(data.user));\r\n            m.redraw();\r\n        }\r\n    });\r\n    addSubscribeCb(\"typing\", (items, context) => {\r\n        if (!app.forum.attribute(\"xyppWsnTypeTip\")) {\r\n            return;\r\n        }\r\n        if (context.discussion) {\r\n            items.add(\"typing\", new ModelPath().add(\"state\").add(\"session\").add(\"discussion\", context.discussion).add(\"typing\"));\r\n        }\r\n    });\r\n    extend(ComposerBody.prototype, \"oninit\", function (this: ComposerBody, val: any) {\r\n        if (!app.forum.attribute(\"xyppWsnTypeTip\")) {\r\n            return;\r\n        }\r\n        if ((app.session?.user?.preferences() || {})[\"xyppWsnNoTypeTip\"]) {\r\n            return;\r\n        }\r\n        if ((this.attrs as any).discussion)\r\n            WebsocketHelper.getInstance()\r\n                .state(new ModelPath()\r\n                    .add(\"state\", app.session?.user?.id())\r\n                    .add(\"session\")\r\n                    .add(\"discussion\", (this.attrs as any).discussion.id())\r\n                    .add(\"typing\")\r\n                );\r\n        if ((this.attrs as any).post)\r\n            WebsocketHelper.getInstance()\r\n                .state(new ModelPath()\r\n                    .add(\"state\", app.session?.user?.id())\r\n                    .add(\"session\")\r\n                    .add(\"discussion\", (this.attrs as any).post.discussion().id())\r\n                    .add(\"typing\")\r\n                );\r\n    });\r\n    extend(ComposerBody.prototype, \"onbeforeremove\", function (this: ComposerBody, r: any) {\r\n        if (!app.forum.attribute(\"xyppWsnTypeTip\")) {\r\n            return;\r\n        }\r\n        if ((app.session?.user?.preferences() || {})[\"xyppWsnNoTypeTip\"]) {\r\n            return;\r\n        }\r\n        if ((this.attrs as any).discussion)\r\n            WebsocketHelper.getInstance()\r\n                .state(new ModelPath()\r\n                    .add(\"state\", app.session?.user?.id())\r\n                    .add(\"session\")\r\n                    .add(\"release\")\r\n                    .add(\"discussion\", (this.attrs as any).discussion.id())\r\n                    .add(\"typing\")\r\n                );\r\n        if ((this.attrs as any).post)\r\n            WebsocketHelper.getInstance()\r\n                .state(new ModelPath()\r\n                    .add(\"state\", app.session?.user?.id())\r\n                    .add(\"session\")\r\n                    .add(\"release\")\r\n                    .add(\"discussion\", (this.attrs as any).post.discussion().id())\r\n                    .add(\"typing\")\r\n                );\r\n    });\r\n    extend(DiscussionPage.prototype, \"show\", function (this: DiscussionPage, r: any, discussion: Discussion) {\r\n        const typings: {\r\n            user: { data: any }[]\r\n        } = discussion.attribute(\"typeTip\");\r\n        //@ts-ignore\r\n        discussion.typingUsers = [];\r\n        for (const user of typings.user) {\r\n            let u: User | undefined = app.store.getById<User>(\"users\", user.data.id);\r\n            if (!u) {\r\n                u = app.store.pushPayload<User>(user);\r\n            }\r\n            //@ts-ignore\r\n            discussion.typingUsers.push(u);\r\n        }\r\n    })\r\n    extend(PostStream.prototype, \"endItems\", function (this: PostStream, items: ItemList<any>) {\r\n        if (this.discussion.typingUsers.length)\r\n            items.add(\"typings\", TypingTip.component({\r\n                typingUsers: this.discussion.typingUsers,\r\n                key: \"typingTip\"\r\n            }));\r\n    });\r\n\r\n    extend(SettingsPage.prototype, 'settingsItems', function (items) {\r\n        items.add(\r\n            'xypp-wsn-newPostOption',\r\n            <FieldSet label={app.translator.trans(\"xypp-websocket-notification.forum.typing.title\")} className=\"Settings-typing\">\r\n                <p><Switch\r\n                    state={((app.session?.user?.preferences() || {})[\"xyppWsnNoTypeTip\"] || false)}\r\n                    onchange={(v: boolean) => {\r\n                        app.session?.user?.savePreferences({\r\n                            \"xyppWsnNoTypeTip\": v\r\n                        });\r\n                    }}\r\n                >{app.translator.trans(\"xypp-websocket-notification.forum.typing.no_type_tip\")}</Switch></p>\r\n            </FieldSet>\r\n        );\r\n    })\r\n\r\n}","import app from \"flarum/forum/app\";\r\n\r\nlet unreadCount = 0;\r\n\r\nexport function initUnreadTip() {\r\n    window.addEventListener('focus', () => {\r\n        unreadCount = 0;\r\n        app.setTitleCount(0);\r\n    });\r\n}\r\nexport function addUnread() {\r\n    if (!document.hasFocus()) {\r\n        unreadCount++;\r\n        console.log(`Update unread:${unreadCount}`);\r\n        app.setTitleCount(unreadCount);\r\n    }\r\n}","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/FieldSet'];","module.exports = flarum.core.compat['common/components/Link'];","module.exports = flarum.core.compat['common/components/Select'];","module.exports = flarum.core.compat['common/components/Switch'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/extenders'];","module.exports = flarum.core.compat['common/helpers/avatar'];","module.exports = flarum.core.compat['common/helpers/humanTime'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/helpers/username'];","module.exports = flarum.core.compat['common/models/User'];","module.exports = flarum.core.compat['common/utils/ItemList'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/ComposerBody'];","module.exports = flarum.core.compat['forum/components/DiscussionList'];","module.exports = flarum.core.compat['forum/components/DiscussionPage'];","module.exports = flarum.core.compat['forum/components/HeaderSecondary'];","module.exports = flarum.core.compat['forum/components/PostStream'];","module.exports = flarum.core.compat['forum/components/SettingsPage'];","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export { default as extend } from './src/common/extend';\nexport * from './src/forum';\nexport * from './src/common';"],"names":["t","e","exports","module","define","amd","globalThis","self","dayjs","n","r","i","s","u","a","o","c","f","h","d","l","$","y","M","name","weekdays","split","months","ordinal","m","String","length","Array","join","v","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","g","S","_","O","args","arguments","b","locale","$L","utc","$u","x","$x","$offset","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","forEach","extend","$i","isDayjs","en","Ls","ModelPath","str","nodes","data","endsWith","JSON","map","ret","includes","_n$split","id","_proto","stringify","push","find","getId","node","remove","index","findIndex","splice","getData","setData","Extend","WebsocketAccessToken","Store","ItemList","RETRY_INTERVALS","WebsocketHelper","app","ws","statusChangeCb","lastConnected","firstSubscribe","context","lastSubscribes","pingInterval","nextRetry","inRetryStatus","getInstance","instance","start","_start","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this","item","wrap","_callee$","_context","prev","next","onclose","close","undefined","store","createRecord","save","sent","t0","retry","abrupt","WebSocket","url","clearInterval","onerror","onopen","reSubscribe","setInterval","ping","bind","onmessage","type","messageHandler","path","stop","console","log","getSubscribes","setContext","_this2","Object","keys","tempContext","newSub","assign","toArray","changed","restore","send","state","_this$app","session","user","onStatusChange","cb","_this3","setTimeout","sort","localeCompare","_WebsocketHelper","Model","_Model","_len","_key","call","concat","token","attribute","location","hostname","_inheritsLoose","default","showIf","judgement","vnode","def","override","addSubscribeCb","addMessageCb","orig","_path$get","Component","ConnectionIndicator","_Component","currentStatus","oninit","status","view","getContent","className","translator","trans","redraw","HeaderSecondary","initUnreadTip","initializers","items","component","Button","Link","ComingDiscussion","autoRefreshTimeout","autoRefresh","countdown","oncreate","_app$session","preferences","xyppWsnNewDiscussionAutoRefresh","updateCtd","onbeforeremove","attrs","list","count","href","route","near","post","title","onclick","callback","NotificationFloater","position","notifications","notification","attributes","contentType","cls","notificationComponents","first","dismiss","avatar","username","TypingTip","MAX_LIST_LEN","parseInt","forum","typingUsers","rest","icon","humanTime","WrappedFlagNotification","flag","flags","em","discussion","createdAt","contentPlain","DiscussionPage","DiscussionList","FieldSet","SettingsPage","Switch","addUnread","initDiscussionList","discussionList","discussionListTag","tag","getBy","comingDiscussions","toPullUpDiscussions","refresh","discussions","addDiscussion","addOne","_app$current","current","baseCount","exist","_app$current2","routeName","unshift","maxLen","pop","pushPayload","idx","children","isArray","params","tags","savingList","_app$session2","_app$session4","label","onchange","_app$session3","savePreferences","value","_app$session5","preventDefault","val","then","disabled","loading","initNotification","initPost","initLike","initTypingTip","initReaction","initOnline","initPoll","getById","like","relationships","likes","freshness","Select","isAdmin","_app$session$user$unr","_app$session$user$new","model","obj","time","pushAttributes","unreadNotificationCount","newNotificationCount","_app$flags","cache","flagCount","ctr","addClass","appendTo","document","body","mount","element","SELECT_FLOATER","options","wrappedFlag","User","onlineState","fn","online","flarum","extensions","hasPoll","posts","poll","polls","key","pollOption","voteCount","_ref","stream","viewingEnd","loadNext","removeStack","reactionCounts","counts","ComposerBody","PostStream","typings","restTypingUsers","_app$session6","_iterator","_createForOfIteratorHelperLoose","_step","done","_app$session7","_app$session8","unreadCount","window","addEventListener","setTitleCount","hasFocus","_typeof","require","__esModule","hasOwnProperty","defineProperty","Symbol","iterator","asyncIterator","toStringTag","enumerable","configurable","writable","Generator","create","Context","makeInvokeMethod","tryCatch","arg","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","values","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","callInvokeWithMethodAndArg","Error","method","delegate","maybeInvokeDelegate","_sent","dispatchException","TypeError","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","setPrototypeOf","__proto__","awrap","async","Promise","reverse","charAt","rval","handle","complete","finish","_catch","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","Function","asyncGeneratorStep","_next","_throw","_setPrototypeOf"],"sourceRoot":""}